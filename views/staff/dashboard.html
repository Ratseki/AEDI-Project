<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard ‚Äî Profilepicmultimedia</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* ========================== */
/* GLOBAL STYLES */
/* ========================== */
body {
  font-family: "Poppins", sans-serif;
  background-color: #F9F9F9;
  color: #0A142D;
  margin: 0;
  padding: 0;
}

header {
  background-color: #0A142D;
  color: #fff;
  padding: 20px 40px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

header h1 {
  font-size: 1.8rem;
  font-weight: 700;
}

main {
  padding: 30px 40px;
}

h2 {
  margin-top: 0;
  color: #0A142D;
  font-weight: 700;
}

/* ========================== */
/* DASHBOARD CARDS */
/* ========================== */
.dashboard-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px;
  margin-bottom: 40px;
}

.card {
  background-color: #fff;
  border-radius: 12px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
}

.card h3 {
  font-size: 1.2rem;
  font-weight: 600;
  color: #0A142D;
  margin-bottom: 10px;
}

.card .value {
  font-size: 1.8rem;
  font-weight: 700;
  color: #CE6826;
}

/* ========================== */
/* CHARTS */
/* ========================== */
.charts {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 30px;
  margin-bottom: 50px;
}

.chart-container {
  background-color: #fff;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.chart-container h3 {
  font-size: 1.2rem;
  font-weight: 600;
  margin-bottom: 15px;
  color: #0A142D;
}

/* ========================== */
/* SECTIONS */
/* ========================== */
.section {
  background-color: #fff;
  padding: 20px;
  margin: 20px 0;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.loading {
  color: #666;
  font-style: italic;
}

/* ========================== */
/* TABLES */
/* ========================== */
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

th, td {
  border: 1px solid #ddd;
  padding: 10px;
  text-align: left;
}

th {
  background-color: #CE6826;
  color: #fff;
  font-weight: 600;
}

/* ========================== */
/* BUTTONS */
/* ========================== */
button, .book-now-btn {
  font-family: "DM Sans", sans-serif;
  font-weight: 600;
  font-size: 14px;
  border: none;
  border-radius: 6px;
  padding: 10px 18px;
  cursor: pointer;
  transition: 0.3s;
}

button {
  background-color: #0A142D;
  color: #fff;
}

button:hover {
  background-color: #073449;
}

.book-now-btn {
  background-color: #CE6826;
  color: #fff;
}

.book-now-btn:hover {
  background-color: #F4981E;
}

/* ========================== */
/* ADMIN-ONLY ELEMENTS */
/* ========================== */
.admin-only {
  display: none;
}

/* ========================== */
/* FOOTER */
/* ========================== */
footer {
  text-align: center;
  padding: 15px;
  background-color: #0A142D;
  color: #fff;
  margin-top: 30px;
  font-size: 14px;
}

/* ========================== */
/* FORMS & SELECTS */
/* ========================== */
select, input[type="file"] {
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
  margin-right: 10px;
}

#uploadStatus {
  margin-top: 10px;
  font-style: italic;
  color: #0A142D;
}



  </style>
</head>
<body>
<header>
  <h1>Dashboard</h1>
  <nav>
    <button id="logoutBtn" style="background:red;">Logout</button>
  </nav>
</header>

<main>
  <!-- ANALYTICS -->
  <h2>Analytics Overview</h2>
  <div class="dashboard-cards">
    <div class="card"><h3>Total Bookings</h3><div class="value" id="totalBookings">0</div></div>
    <div class="card"><h3>Revenue (‚Ç±)</h3><div class="value" id="totalRevenue">0</div></div>
    <div class="card"><h3>Active Clients</h3><div class="value" id="totalClients">0</div></div>
    <div class="card"><h3>Popular Package</h3><div class="value" id="popularPackage">-</div></div>
  </div>

  <div class="charts">
    <div class="chart-container"><h3>Monthly Bookings</h3><canvas id="bookingsChart"></canvas></div>
    <div class="chart-container"><h3>Top Booking Locations</h3><canvas id="locationChart"></canvas></div>
  </div>

  <!-- USERS (Admin only) -->
  <div class="section admin-only">
    <h2>Users</h2>
    <button onclick="loadUsers()">Refresh Users</button>
    <div id="users" class="loading">Loading...</div>
  </div>

  <!-- BOOKINGS -->
  <div class="section">
    <h2>Bookings</h2>
    <button onclick="loadBookings()">Refresh Bookings</button>
    <div id="bookings" class="loading">Loading...</div>
    <table id="bookingTable" style="width:100%; border-collapse:collapse;">
  <thead>
    <tr>
      <th>ID</th>
      <th>Customer</th>
      <th>Package</th>
      <th>Date</th>
      <th>Status</th>
      <th>Payment</th>
      <th>Review</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody id="bookingTableBody"></tbody>
</table>
  </div>

  <!-- Downpayment Modal -->
<div id="downpaymentModal" style="display:none; position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);justify-content:center;align-items:center;">
  <div style="background:#fff;padding:20px;border-radius:10px;width:300px;">
    <h3>Downpayment</h3>
    <input type="number" id="downpaymentAmount" placeholder="Enter amount" />
    <button onclick="submitDownpayment()" class="book-now-btn">Submit</button>
    <button onclick="closeModal('downpaymentModal')" class="book-now-btn" style="background:red;">Cancel</button>
  </div>
</div>

<!-- Cancel Booking Modal -->
<div id="cancelModal" style="display:none; position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);justify-content:center;align-items:center;">
  <div style="background:#fff;padding:20px;border-radius:10px;width:300px;">
    <h3>Cancel Booking</h3>
    <p>Are you sure you want to cancel this booking?</p>
    <button onclick="confirmCancel()" class="book-now-btn" style="background:red;">Yes, Cancel</button>
    <button onclick="closeModal('cancelModal')" class="book-now-btn">No</button>
  </div>
</div>

<!-- User Review Section -->
<div id="reviewSection" class="section" style="display:none;">
  <h2>Submit Review</h2>
  <select id="reviewRating">
    <option value="5">5 ‚≠ê</option>
    <option value="4">4 ‚≠ê</option>
    <option value="3">3 ‚≠ê</option>
    <option value="2">2 ‚≠ê</option>
    <option value="1">1 ‚≠ê</option>
  </select>
  <textarea id="reviewText" placeholder="Write your review..." style="width:100%;height:60px;margin-top:5px;"></textarea>
  <button id="submitReview" class="book-now-btn" style="margin-top:5px;">Submit Review</button>
</div>


  <!-- PAYMENTS -->
  <div class="section">
    <h2>Payments</h2>
    <button onclick="loadPayments()">Refresh Payments</button>
    <div id="payments" class="loading">Loading...</div>
  </div>

  <!-- NOTIFICATIONS -->
  <div class="section">
    <h2>Notifications</h2>
    <button onclick="loadNotifications()">Refresh Notifications</button>
    <div id="notifications" class="loading">Loading...</div>
  </div>

<!-- PHOTO GALLERY + UPLOAD -->
<div class="section">
  <h2>Photo Gallery / Upload</h2>
  
  <!-- Customer selection dropdown -->
  <select id="customerSelect">
    <option value="">Select a customer</option>
  </select>

  <!-- Bulk Upload Form -->
  <form id="bulkUploadForm" enctype="multipart/form-data" style="margin-top:10px;">
    <input type="text" id="bookingId" placeholder="Booking ID (optional)" style="margin-bottom:5px;"/>
    <input type="number" id="price" placeholder="Price" value="100" style="margin-bottom:5px;"/>
    <input type="file" id="bulkPhotos" name="photos" multiple required style="margin-bottom:10px;"/>
    <button type="submit" class="book-now-btn">Upload Photos</button>
  </form>

  <!-- Upload Status -->
  <p id="uploadStatus"></p>

  <!-- Photo List & Bulk Actions -->
  <div id="photoList"></div>

  <!-- QR Generation -->
  <button id="generateQRBtn" class="book-now-btn" style="margin-top:15px;">Generate QR</button>
  <div id="qrResult" style="margin-top:10px;"></div>
</div>

</main>

<!-- ============================= -->
<!-- üí∞ Transactions Section -->
<!-- ============================= -->
<section class="transactions-section mt-8">
  <h2 class="text-xl font-semibold mb-3">Recent Transactions</h2>
  <table id="transactionsTable" class="w-full border-collapse border border-gray-300 text-sm">
    <thead class="bg-gray-100">
      <tr>
        <th class="border px-3 py-2">#</th>
        <th class="border px-3 py-2">Customer</th>
        <th class="border px-3 py-2">Reference ID</th>
        <th class="border px-3 py-2">Type</th>
        <th class="border px-3 py-2">Amount</th>
        <th class="border px-3 py-2">Payment Method</th>
        <th class="border px-3 py-2">Status</th>
        <th class="border px-3 py-2">Date</th>
        <th class="border px-3 py-2">Action</th>
      </tr>
    </thead>
    <tbody id="transactionTable"></tbody>
  </table>
</section>



<footer>¬© 2025 Profilepicmultimedia</footer>

<script src="/js/dashboard.js"></script>
<script>
  // Logout
  document.getElementById("logoutBtn").addEventListener("click", () => {
    localStorage.clear();
    window.location.href = "/login.html";
  });
</script>


</body>
</html>
